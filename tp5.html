<html>
	<head>
		<title>Carré rouge déplacement</title>
		<meta charset='utf-8'>
		<style>
			#carre1, #carre2, #carre3, #carre4, #carre5, #carre6, #carre7, #carre8, #carre9, #carre0{
				height:20px;
				width:20px;
				background-color:red;
				margin:10px;
			}
		</style>		
		<script>
			var intervalID;
			var position=[1,2,3];
			var nombre_div=10;

			function divCreate(){
				var div_mere=document.getElementById("conteneur");
				var div_fille;
				for(var i=0;i<nombre_div;i++){
					div_fille=document.createElement('div');
					div_fille.setAttribute("id", "carre"+i);
					div_mere.appendChild(div_fille);
					setTimeout(interval,1000); // Une seconde de retard entre chaque carré
				}
			}

			// Completer les deplacements
			function interval() {
				setInterval(function() {deplacer(1);}, 100);
			}
			function deplacer(id) {
				position[id-1]+=10;
				//alert(id-1+":"+position[id-1]);
				document.getElementById("carre"+id).style.left=position[id-1]+"px";
			}
			// Pas d'animations alors que le style.left est bien modifié pour chaque div différentes -> ??
		</script>

	</head>
	<body onload="divCreate()">
		<div id="conteneur"></div>
	</body>
</html>